{"version":3,"file":"static/js/138.016afb59.chunk.js","mappings":"oOACA,EAA4B,8B,SCA5B,GAAgB,MAAQ,0B,SCCXA,EAAY,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aAC1B,OACE,kBAAMC,SAAUD,EAAhB,WACE,kBAAOE,UAAWC,EAAAA,MAAcC,KAAK,OAAOC,KAAK,eACjD,mBAAQD,KAAK,SAASF,UAAWC,EAAAA,OAAjC,sBAKL,ECJKG,GAAkBC,EAAAA,EAAAA,OAAK,kBAC3B,4BAD2B,IA0B7B,EAtBmB,WAAO,IAAD,EACvB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEA,ECXuB,SAAAC,GACvB,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KASA,OAPAC,EAAAA,EAAAA,YAAU,WACM,KAAVJ,IACJK,EAAAA,EAAAA,IAAYL,GAAOM,MAAK,SAAAC,GACtBJ,GAAU,OAAII,EAAIC,SACnB,GACF,GAAE,CAACR,IAEG,CAAEE,OAAAA,EACV,CDAoBO,CADR,UAAGX,EAAaY,IAAI,gBAApB,QAAgC,IACnCR,EAAR,EAAQA,OASR,OACE,iBAAKX,UAAWC,EAAhB,WACE,SAACJ,EAAD,CAAWC,aATM,SAAAsB,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cACff,EAAgB,CAAEC,MAAOa,EAAKE,SAASC,UAAUC,MAAMC,gBACvDL,EAAKM,OACN,KAKG,SAAC,EAAAC,SAAD,CAAUC,UAAU,SAACC,EAAA,EAAD,IAApB,UACE,SAAC3B,EAAD,CAAiBO,OAAQA,QAIhC,C,8LE7BYqB,EAAU,mCAEVC,EAAU,mCAAG,oGACNC,EAAAA,GAAAA,IAAA,kEAC2CF,IAFrC,cAClBhB,EADkB,yBAKjBA,EAAImB,MALa,2CAAH,qDAQVrB,EAAW,mCAAG,WAAML,GAAN,uFACPyB,EAAAA,GAAAA,IAAA,4DACqCF,EADrC,iCACqEvB,EADrE,gCADO,cACnBO,EADmB,yBAKlBA,EAAImB,MALc,2CAAH,sDAQXC,EAAY,mCAAG,WAAMC,GAAN,uFACRH,EAAAA,GAAAA,IAAA,6CACsBG,EADtB,oBACoCL,EADpC,oBADQ,cACpBhB,EADoB,yBAKnBA,EAAImB,MALe,2CAAH,sDAQZG,EAAY,mCAAG,WAAMD,GAAN,uFACRH,EAAAA,GAAAA,IAAA,6CACsBG,EADtB,4BAC4CL,EAD5C,oBADQ,cACpBhB,EADoB,yBAKnBA,EAAImB,KAAKI,MALU,2CAAH,sDAQZC,EAAY,mCAAG,WAAMH,GAAN,uFACRH,EAAAA,GAAAA,IAAA,6CACsBG,EADtB,4BAC4CL,EAD5C,2BADQ,cACpBhB,EADoB,yBAKnBA,EAAImB,MALe,2CAAH,qD","sources":["webpack://react-homework-template/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","pages/MoviesPage/MoviesPage.jsx","utils/hooks/useSearch.jsx","utils/api/fetchMovies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MoviesPage_container__jgAeo\"};","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Searchbar_input__19umw\"};","import styles from './Searchbar.module.css';\n\nexport const Searchbar = ({ handleSubmit }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <input className={styles.input} type=\"text\" name=\"movieName\" />\n      <button type=\"submit\" className={styles.submit}>\n        Search\n      </button>\n    </form>\n  );\n};\n","import { useSearchParams } from 'react-router-dom';\nimport { Suspense, lazy } from 'react';\nimport { useSearch } from 'utils/hooks/useSearch';\nimport styles from './MoviesPage.module.css';\nimport { Loader } from 'components/Loader/Loader';\nimport { Searchbar } from 'components/Searchbar/Searchbar';\n\nconst SearchMovieList = lazy(() =>\n  import('components/SearchMovieList/SearchMovieList')\n);\n\nconst MoviesPage = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const { movies } = useSearch(query);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    setSearchParams({ query: form.elements.movieName.value.toLowerCase() });\n    form.reset();\n  };\n\n  return (\n    <div className={styles.container}>\n      <Searchbar handleSubmit={handleSubmit} />\n      <Suspense fallback={<Loader />}>\n        <SearchMovieList movies={movies} />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MoviesPage;\n","import { useState, useEffect } from 'react';\nimport { fetchSearch } from 'utils/api/fetchMovies';\n\nexport const useSearch = query => {\n  const [movies, setMovies] = useState([]);\n\n  useEffect(() => {\n    if (query === '') return;\n    fetchSearch(query).then(res => {\n      setMovies([...res.results]);\n    });\n  }, [query]);\n\n  return { movies };\n};\n","import axios from 'axios';\n\nexport const API_KEY = '18cc3ec683925dedb66d3e6092890eaa';\n\nexport const fetchTrend = async () => {\n  const res = await axios.get(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n  );\n\n  return res.data;\n};\n\nexport const fetchSearch = async query => {\n  const res = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n\n  return res.data;\n};\n\nexport const fetchDetails = async id => {\n  const res = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`\n  );\n\n  return res.data;\n};\n\nexport const fetchCredits = async id => {\n  const res = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n\n  return res.data.cast;\n};\n\nexport const fetchReviews = async id => {\n  const res = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n\n  return res.data;\n};\n\n// fetchDetails('414906').then(res => {\n//   const foo = res;\n//   console.log(foo);\n// });\n"],"names":["Searchbar","handleSubmit","onSubmit","className","styles","type","name","SearchMovieList","lazy","useSearchParams","searchParams","setSearchParams","query","useState","movies","setMovies","useEffect","fetchSearch","then","res","results","useSearch","get","e","preventDefault","form","currentTarget","elements","movieName","value","toLowerCase","reset","Suspense","fallback","Loader","API_KEY","fetchTrend","axios","data","fetchDetails","id","fetchCredits","cast","fetchReviews"],"sourceRoot":""}